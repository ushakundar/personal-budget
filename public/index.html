<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- This is an SEO Change -->
    <title>Personal Budget - Manage Your Finances Easily</title> 
    <!-- This is an SEO Change -->
    <meta name="description" content="Take control of your finances with our free personal budget management app. Track expenses, set alerts, and plan wisely."> 
    <!-- This is an SEO Change -->
    <meta name="keywords" content="budget, finance, money management, expense tracker"> 
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="main.css">
</head>
<body>

<!-- This is an A11y Change -->
<a href="#main" class="skip">Skip to main content</a> 

<header>
    <!-- This is an A11y Change -->
    <nav aria-label="Main navigation"> 
        <ul>
            <li><a href="/">Home</a></li>
            <!-- This is an A11y Change -->
            <li><a href="/about.html">About Us</a></li> 
            <li><a href="/login.html">Login</a></li>
            <!-- This is an A11y Change -->
            <li><a href="https://google.com" target="_blank" rel="noopener">Visit Google</a></li> 
        </ul>
    </nav>
</header>

 <!-- This is a Semantic HTML Change -->
<section class="hero">
    <h1>Personal Budget</h1>
    <h2>Manage your finances with ease</h2>
</section>

<main class="center" id="main">
    <!-- This is a Semantic HTML Change -->
    <section class="page-area"> 

        <article>
            <h2>Stay on Track</h2>
            <p>Do you know where your money is going? Track your spending habits with real data and stay on top of your finances.</p>
        </article>

        <article>
            <h2>Smart Alerts</h2>
            <p>Get notified before you exceed your budget limits. Stay in control of your spending.</p>
        </article>

        <article>
            <h2>Achieve Better Results</h2>
            <p>People who follow a budget plan get out of debt faster and live worry-free. Manage your money wisely.</p>
        </article>

        <article>
            <h2>Completely Free</h2>
            <p>Our app is 100% free. Plus, you have complete control over your data.</p>
        </article>

        <article>
            <h2>Expense Overview</h2>
            <p>
                <!-- This is an A11y Change -->
                <canvas id="myChart" width="400" height="400" aria-label="Budget distribution chart" role="img"></canvas> 
            </p>
        </article>

    </section>
</main>

<footer class="bottom">
    <!-- This is a Semantic HTML Change -->
</footer>
    <p class="center">&copy; 2024 Personal Budget. All rights reserved.</p> 

<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.20.0/axios.min.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" crossorigin="anonymous"></script>

<script>
    var dataSource = {
        datasets: [{
            data: [],
            backgroundColor: ['#ffcd56', '#ff6384', '#36a2eb', '#fd6b19']
        }],
        labels: []
    };

    function createChart() {
        var ctx = document.getElementById('myChart').getContext('2d');
        new Chart(ctx, {
            type: 'pie',
            data: dataSource
        });
    }

    function getBudget() {
        axios.get('http://localhost:3000/budget')
        .then(function (res) {
            dataSource.datasets[0].data = res.data.myBudget.map(item => item.budget);
            dataSource.labels = res.data.myBudget.map(item => item.title);
            createChart();
        })
        .catch(function (error) {
            console.error('Error fetching budget data:', error);
        });
    }

    getBudget();
</script>

</body>
</html>
